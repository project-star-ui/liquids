<!DOCTYPE html>
<html lang="tl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Added for mobile responsiveness -->
  <meta name="google" content="notranslate">
  <title>Liquids Concept Map for Kids</title>
  <style>
    /* Universal Box Sizing for consistent layout */
    html {
      box-sizing: border-box;
    }
    *, *:before, *:after {
      box-sizing: inherit;
    }

    body {
      font-family: 'Comic Sans MS', arial, sans-serif;
      text-align: center; /* Helps center block/inline-block elements */
      margin: 0;
      padding: 20px;
      background: linear-gradient(to bottom, #b3e0ff, #1e90ff);
      animation: skyTransition 20s linear infinite;
      min-height: 100vh;
    }
    .water-bg {
      position: fixed;
      bottom: 0;
      width: 100%;
      height: 30%;
      background: #1e90ff; /* Water blue */
      z-index: -1; /* Puts it behind other content */
      pointer-events: none; /* Allow scrolling over background */
    }
    .title {
      font-size: 42px;
      color: #003366;
      text-shadow: 3px 3px 0 #fff;
      margin: 30px auto; /* 'auto' for horizontal centering of inline-block */
      display: inline-block;
      padding: 15px 30px;
      background-color: rgba(255, 255, 255, 0.8);
      border-radius: 50px;
      border: 5px dashed #1e90ff;
      cursor: pointer;
      position: relative; /* Needed for absolute positioning of hover-popup */
    }
    /* Specific styling for the hover popup on the main title */
    .title .box-hover-popup {
      bottom: -45px; /* Adjusted position to be further below */
      font-size: 20px; /* Larger font size */
      font-weight: bold; /* Bolder text */
      padding: 10px 20px; /* More padding */
      background-color: #FFD700; /* Gold-like color for better visibility */
      color: #003366; /* Dark blue text for contrast */
      border: 2px solid #FFA500; /* Orange border */
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3); /* Stronger shadow */
    }
    .container {
      display: flex;
      justify-content: center; /* Centers items horizontally in flex container */
      gap: 30px;
      flex-wrap: wrap; /* Allows items to wrap to the next line */
      margin-top: 40px;
    }
    .box {
      border: 4px solid #fff;
      padding: 25px;
      border-radius: 30px;
      background-color: rgba(255, 255, 255, 0.9);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
      font-size: 24px;
      color: #003366;
      width: 250px;
      min-height: 150px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative; /* Needed for absolute positioning of hover-popup */
      transition: transform 0.3s; /* Smooth transition for hover effect */
      cursor: pointer;
    }
    .box:hover {
      transform: scale(1.05); /* GPU-accelerated scaling */
    }
    /* New: Hover popup for boxes and title */
    .box-hover-popup {
      position: absolute;
      bottom: -35px; /* Default position below the element */
      left: 50%;
      transform: translateX(-50%);
      background-color: #1e90ff; /* Blue background */
      color: white;
      padding: 5px 10px;
      border-radius: 8px;
      font-size: 14px;
      white-space: nowrap;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
      z-index: 5; /* Ensure it's above other elements but below main popups */
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    }
    /* Show hover popup on parent hover */
    .box:hover .box-hover-popup,
    .title:hover .box-hover-popup { /* Apply to both box and title */
      opacity: 1;
      visibility: visible;
    }

    .popup {
      display: none; /* Hidden by default */
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%); /* Centers the popup precisely */
      background-color: rgba(255, 255, 255, 0.9);
      border: 2px solid #1e90ff;
      border-radius: 20px;
      padding: 20px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
      z-index: 10; /* Ensures popup is on top */
      width: 350px; /* Default width */
      max-height: 80%;
      overflow-y: auto; /* Allows scrolling if content is too long */
      opacity: 0; /* Start invisible for transition */
      visibility: hidden; /* Hides from screen readers when not visible */
      transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out; /* Smooth fade-in/out */
    }
    .popup.show {
      opacity: 1;
      visibility: visible;
    }
    .popup h2 {
      color: #003366;
    }
    .close-btn {
      background-color: #ff6b6b;
      color: white;
      border: none;
      border-radius: 5px;
      padding: 10px;
      cursor: pointer;
      margin-top: 15px;
    }
    .illustration {
      width: 100%;
      height: auto; /* Ensure images scale proportionally */
      border-radius: 10px;
      margin: 10px 0;
    }
    .water-drop {
      position: absolute;
      width: 40px;
      height: 40px;
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="%231e90ff" d="M50 5Q40 30 30 50Q20 70 50 95Q80 70 70 50Q60 30 50 5Z"/></svg>') no-repeat;
      background-size: contain; /* Ensure SVG scales */
      animation: float 4s ease-in-out infinite;
      opacity: 0.7;
    }
    .fish {
      position: fixed;
      width: 80px;
      height: 50px;
      animation: swim 15s linear infinite;
      pointer-events: none; /* Allow scrolling over fish */
    }
    .fish.small {
      width: 60px;
      height: 38px;
    }
    .fish.medium {
      width: 80px;
      height: 50px;
    }
    .fish.large {
      width: 100px;
      height: 62px;
    }
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-50px) rotate(5deg); }
    }
    @keyframes skyTransition {
      0%, 40% { background: linear-gradient(to bottom, #b3e0ff, #1e90ff); }
      50% { background: linear-gradient(to bottom, #87CEEB, #1E90FF); }
      100% { background: linear-gradient(to bottom, #483D8B, #000080); }
    }
    
    @keyframes swim {
      /* Animating translateX from off-screen left to off-screen right */
      0% { transform: translateX(-100px); }
      100% { transform: translateX(calc(100vw + 100px)); } /* 100vw ensures it crosses the entire viewport */
    }
    .sun {
      position: absolute;
      top: 40px;
      right: 40px;
      width: 60px;
      height: 60px;
      background: radial-gradient(circle, #ffff00, #ffcc00);
      border-radius: 50%;
      box-shadow: 0 0 30px #ffff00;
      animation: sunCycle 20s linear infinite;
    }
    
    @keyframes sunCycle {
      0%, 40% { /* Sun stays normal for first 40% (4s of 10s cycle) */
        opacity: 1;
        background: radial-gradient(circle, #ffff00, #ffcc00);
        box-shadow: 0 0 30px #ffff00;
      }
      50% { /* Start transitioning to sunset */
        background: radial-gradient(circle, #ffcc00, #ff6600);
        box-shadow: 0 0 30px #ff6600;
      }
      100% { /* Fully sunset colors */
        opacity: 0;
        background: radial-gradient(circle, #ff6600, #cc3300);
        box-shadow: 0 0 30px #cc3300;
      }
    }

    /* Go Back Button Styling */
    .go-back-btn {
      position: fixed; /* Fixed position so it stays visible */
      top: 20px;
      left: 20px;
      background-color: #87CEEB; /* Sky blue color */
      color: #003366; /* Dark blue text */
      padding: 10px 15px;
      border-radius: 25px; /* Rounded corners for kid-friendly look */
      border: 3px solid #fff; /* White border */
      box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2); /* Soft shadow */
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      z-index: 11; /* Ensure it's above popups but below the sun */
      transition: background-color 0.3s, transform 0.3s;
      display: flex; /* Use flexbox for centering content */
      align-items: center;
      justify-content: center;
      gap: 5px; /* Space between icon and text */
      overflow: hidden; /* Hide overflowing bubbles */
    }

    .go-back-btn:hover {
      background-color: #6495ED; /* Slightly darker blue on hover */
      transform: scale(1.05); /* Pop effect on hover */
    }

    .go-back-btn::before {
      content: '⬅️'; /* Left arrow emoji */
      font-size: 20px;
    }

    /* New: Bubble for Go Back Button */
    .go-back-btn .bubble {
      position: absolute;
      background-color: rgba(255, 255, 255, 0.5);
      border-radius: 50%;
      opacity: 0;
      animation: bubbleFloat 2s ease-out infinite;
      pointer-events: none; /* Ensure it doesn't interfere with clicks */
    }

    /* New: Click Animation for Go Back Button */
    .go-back-btn.clicked {
      animation: buttonPop 0.3s ease-out;
    }

    @keyframes buttonPop {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }

    @keyframes bubbleFloat {
      0% {
        transform: scale(0) translateY(0);
        opacity: 0;
      }
      20% {
        opacity: 1;
      }
      100% {
        transform: scale(1.2) translateY(-50px);
        opacity: 0;
      }
    }


    /* Media Queries for Mobile Responsiveness */
    @media (max-width: 768px) {
      body {
        padding: 60px 10px 10px; /* Add top padding to move content down */
        overflow: auto; /* Enable scrolling */
        height: auto;
      }
      .title {
        font-size: 8vw; /* Scale font size with viewport width */
        padding: 10px 20px; /* Adjust padding */
        margin: 10px auto; /* Reduced top margin to compensate */
      }
      .title .box-hover-popup {
        font-size: 14px;
        bottom: -30px;
        padding: 5px 10px;
      }
      .container {
        flex-direction: column; /* Stack boxes vertically */
        gap: 20px; /* Reduce gap */
        margin-top: 10px; /* Reduced top margin to compensate */
        align-items: center; /* Center all child elements */
      }
      .box {
        width: 85%; /* Make boxes take up more width */
        max-width: 300px; /* Limit max width */
        font-size: 18px; /* Smaller font size for boxes */
        padding: 20px;
        min-height: 120px; /* Adjust min-height */
        margin: 0 auto; /* Center each box horizontally */
      }
      .box-hover-popup {
        font-size: 12px;
        bottom: -30px;
      }
      .popup {
        width: 90%; /* Make popup wider for mobile */
        padding: 15px;
      }
      .popup h2 {
        font-size: 22px; /* Smaller heading in popup */
      }
      .popup p, .popup ul {
        font-size: 16px; /* Smaller text in popup */
      }
      .water-drop {
        width: 30px; /* Smaller water drops */
        height: 30px;
      }
      .fish {
        width: 60px;
        height: 38px;
      }
      .fish.small {
        width: 40px;
        height: 25px;
      }
      .fish.medium {
        width: 60px;
        height: 38px;
      }
      .fish.large {
        width: 80px;
        height: 50px;
      }
      .sun {
        width: 50px;
        height: 50px;
        top: 20px; /* Moved up 25px from 45px (~5cm) */
        right: 15px;
        box-shadow: 0 0 20px #ffff00;
        animation: sunCycleMobile 10s linear infinite;
        position: fixed; /* Keep sun fixed while scrolling */
      }
      
      @keyframes sunCycleMobile {
        0%, 50% { /* Sun stays normal for first 5s of 10s cycle */
          opacity: 1;
          background: radial-gradient(circle, #ffff00, #ffcc00);
          box-shadow: 0 0 20px #ffff00;
        }
        60% { /* Start transitioning to sunset */
          background: radial-gradient(circle, #ffcc00, #ff6600);
          box-shadow: 0 0 20px #ff6600;
        }
        100% { /* Fully sunset colors */
          opacity: 0;
          background: radial-gradient(circle, #ff6600, #cc3300);
          box-shadow: 0 0 20px #cc3300;
        }
      }

      /* Go Back Button for Mobile */
      .go-back-btn {
        top: 15px; /* Moved up 25px from 40px (~5cm) */
        left: 10px;
        padding: 8px 12px;
        font-size: 16px;
      }
      .go-back-btn::before {
        font-size: 18px;
      }
    }

    @media (max-width: 480px) {
      .title {
        font-size: 9vw;
        padding: 8px 15px;
      }
      .title .box-hover-popup {
        font-size: 12px;
        bottom: -25px;
      }
      .box {
        width: 90%;
        font-size: 16px;
        padding: 15px;
        min-height: 100px;
        margin: 0 auto; /* Center each box horizontally */
      }
      .box-hover-popup {
        font-size: 10px;
        bottom: -25px;
      }
      .popup {
        width: 95%;
        padding: 10px;
      }
      .popup h2 {
        font-size: 20px;
      }
      .popup p, .popup ul {
        font-size: 14px;
      }
    }
  </style>
  <script>
    function showPopup(id) {
      const popup = document.getElementById(id);
      popup.style.display = 'block'; // Make it visible for transition
      // Use a small timeout to ensure 'display: block' is applied before 'show' class
      setTimeout(() => {
        popup.classList.add('show');
      }, 10);
    }
    function closePopup(id) {
      const popup = document.getElementById(id);
      popup.classList.remove('show'); // Start fade-out
      // Listen for the end of the transition to set display to 'none'
      popup.addEventListener('transitionend', function handler() {
        popup.style.display = 'none';
        popup.removeEventListener('transitionend', handler); // Remove listener to prevent multiple calls
      });
    }

    // Function to handle the "Go Back" button click
    function goBack() {
      const goBackButton = document.querySelector('.go-back-btn');
      goBackButton.classList.add('clicked'); // Add clicked class for animation

      // Remove the 'clicked' class after the animation duration
      goBackButton.addEventListener('animationend', function handler() {
        goBackButton.classList.remove('clicked');
        goBackButton.removeEventListener('animationend', handler);
      });

      const activePopups = document.querySelectorAll('.popup.show');
      if (activePopups.length > 0) {
        // Close the last opened popup (or any active popup)
        closePopup(activePopups[activePopups.length - 1].id);
      } else {
        // If no popups are open, navigate back to index.html
        window.location.href = "index.html";
      }
    }

    // Function to create and append bubbles to the go-back-btn
    function createBubbles() {
      const goBackButton = document.querySelector('.go-back-btn');
      if (!goBackButton) return;

      setInterval(() => {
        const bubble = document.createElement('div');
        bubble.classList.add('bubble');
        const size = Math.random() * 15 + 5; // Bubble size between 5px and 20px
        bubble.style.width = `${size}px`;
        bubble.style.height = `${size}px`;
        bubble.style.left = `${Math.random() * 100}%`; // Random horizontal position
        bubble.style.bottom = `0px`; // Start from the bottom of the button
        bubble.style.animationDelay = `${Math.random() * 0.5}s`; // Random delay for staggered effect
        goBackButton.appendChild(bubble);

        // Remove bubble after its animation ends to prevent DOM clutter
        bubble.addEventListener('animationend', () => {
          bubble.remove();
        });
      }, 500); // Create a new bubble every 0.5 seconds
    }

    // Call createBubbles when the page loads
    window.onload = createBubbles;
  </script>
</head>
<body>
  <div class="water-bg"></div>
  <div class="sun"></div>
  
  <!-- Go Back Button -->
  <div class="go-back-btn" onclick="goBack()">Go back home! 🏠</div>

  <div class="title" onclick="showPopup('popup-main');">
    💧 LIQUIDS 💧
    <div class="box-hover-popup">I-click para matuto pa!</div>
  </div>
  <div class="container">
    <div class="box" onclick="showPopup('popup-characteristics')">
      Katangian ng Liquids
      <div class="box-hover-popup">I-click para matuto pa!</div>
    </div>
    <div class="box" onclick="showPopup('popup-flow')">
      Paglalarawan ng Pagdaloy ng mga Liquids
      <div class="box-hover-popup">I-click para matuto pa!</div>
    </div>
    <div class="box" onclick="showPopup('popup-taste')">
      Paglalarawan ng Liquids batay sa lasa
      <div class="box-hover-popup">I-click para matuto pa!</div>
    </div>
  </div>

  <!-- Main Popup for Liquids -->
  <div id="popup-main" class="popup">
    <h2>Ano ang Liquid?</h2>
    <p>Ang mga liquid ay mga bagay na may anyong likido. Sila ay dumadaloy at kumukuha ng anyo ng lalagyan na kanilang pinapasukan. Halimbawa, ang tubig, gatas, at juice ay mga liquid. Ang mga liquid ay hindi matigas at hindi rin sila gas. Sila ay may timbang at maaaring magbuhos!</p>
    <!-- IMPORTANT: Replace these GIFs with optimized images (e.g., WebP) or video for better performance -->
    <img src="https://i.gifer.com/Lind.gif" alt="Animated Water" class="illustration">
    <img src="https://i.gifer.com/g0FU.gif" alt="Animated Milk" class="illustration">
    <img src="https://i.gifer.com/SiP0.gif" alt="Animated Juice" class="illustration">
    <button class="close-btn" onclick="closePopup('popup-main')">Isara</button>
  </div>

  <!-- New Popup for Characteristics of Liquids -->
  <div id="popup-characteristics" class="popup">
    <h2>Katangian ng Liquids</h2>
    <p>Ang mga liquid ay may mga katangian tulad ng:</p>
    <ul>
        <li>May anyong likido at kumukuha ng anyo ng lalagyan.</li>
        <li>May timbang at maaaring magbuhos.</li>
        <li>Hindi matigas at hindi gas.</li>
    </ul>
    <!-- IMPORTANT: Replace this placeholder with an actual, optimized image -->
    <img src="https://via.placeholder.com/300x200.png?text=Characteristics+of+Liquids" alt="Characteristics of Liquids" class="illustration">
    <button class="close-btn" onclick="closePopup('popup-characteristics')">Isara</button>
  </div>

  <!-- New Popup for Flow of Liquids -->
  <div id="popup-flow" class="popup">
    <h2>Paglalarawan ng Pagdaloy ng mga Liquids</h2>
    <p>Ang mga liquid ay dumadaloy mula sa mataas na antas patungo sa mababang antas. Ang daloy ay naapektuhan ng:</p>
    <ul>
        <li>Viscosity (tigas ng likido)</li>
        <li>Temperatura</li>
        <li>Pressure</li>
    </ul>
    <!-- IMPORTANT: Replace this placeholder with an actual, optimized image -->
    <img src="https://via.placeholder.com/300x200.png?text=Flow+of+Liquids" alt="Flow of Liquids" class="illustration">
    <button class="close-btn" onclick="closePopup('popup-flow')">Isara</button>
  </div>

  <!-- New Popup for Taste of Liquids -->
  <div id="popup-taste" class="popup">
    <h2>Paglalarawan ng Liquids batay sa lasa</h2>
    <p>Ang mga liquid ay maaaring magkaroon ng iba't ibang lasa, tulad ng:</p>
    <ul>
        <li>Matamis (tulad ng juice)</li>
        <li>Maasim (tulad ng suka)</li>
        <li>Mapait (tulad ng ilang herbal teas)</li>
    </ul>
    <!-- IMPORTANT: Replace this placeholder with an actual, optimized image -->
    <img src="https://via.placeholder.com/300x200.png?text=Taste+of+Liquids" alt="Taste of Liquids" class="illustration">
    <button class="close-btn" onclick="closePopup('popup-taste')">Isara</button>
  </div>

  <!-- Water drops -->
  <div class="water-drop" style="left: 10%; top: 30%; animation-delay: 0s;"></div>
  <div class="water-drop" style="left: 25%; top: 40%; animation-delay: 1s;"></div>
  <div class="water-drop" style="left: 75%; top: 35%; animation-delay: 2s;"></div>
  <div class="water-drop" style="left: 90%; top: 25%; animation-delay: 3s;"></div>

  <!-- Fish -->
  <div class="fish small" style="top: 78%; animation-delay: 2s; animation-duration: 18s;">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 50">
      <path fill="#FF6B6B" d="M80 25Q90 40 70 45Q60 50 50 35Q40 50 30 45Q10 40 20 25Q10 10 30 5Q40 0 50 15Q60 0 70 5Q90 10 80 25Z"/>
      <circle cx="70" cy="20" r="3" fill="#000"/>
    </svg>
  </div>
  <div class="fish medium" style="top: 85%; animation-delay: 5s; animation-duration: 15s;">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 50">
      <path fill="#FF8800" d="M80 25Q90 40 70 45Q60 50 50 35Q40 50 30 45Q10 40 20 25Q10 10 30 5Q40 0 50 15Q60 0 70 5Q90 10 80 25Z"/>
      <circle cx="70" cy="20" r="3" fill="#000"/>
    </svg>
  </div>
  <div class="fish large" style="top: 82%; animation-delay: 0s; animation-duration: 22s;">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 50">
      <path fill="#FF4444" d="M80 25Q90 40 70 45Q60 50 50 35Q40 50 30 45Q10 40 20 25Q10 10 30 5Q40 0 50 15Q60 0 70 5Q90 10 80 25Z"/>
      <circle cx="70" cy="20" r="3" fill="#000"/>
    </svg>
  </div>
  <div class="fish small" style="top: 88%; animation-delay: 7s; animation-duration: 25s;">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 50">
      <path fill="#55AAFF" d="M80 25Q90 40 70 45Q60 50 50 35Q40 50 30 45Q10 40 20 25Q10 10 30 5Q40 0 50 15Q60 0 70 5Q90 10 80 25Z"/>
      <circle cx="70" cy="20" r="3" fill="#000"/>
    </svg>
  </div>
</body>
</html>
